#globalHeader("index")

#loadCss(["/plugin/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css"])

<div class="container">
    <div class="row">
        <div class="col-md-12">
            
			<div class="panel panel-default">
                <div class="panel-heading">
                    #springMessage("tip.create.event") 
                </div>
                <div class="panel-body">
					
                    <form class="form-horizontal" role="form">
						<input type="hidden" name="id" value=""/>
						
						<div class="row" >
							<div class="col-sm-8">
								
								 <div class="form-group">
                            <label for="name" class="col-sm-4 control-label">#springMessage("events.name")：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="name" placeholder="#springMessage('ph.events.name')" />
                            </div>
                        </div>
						<div class="form-group">
                            <label  class="col-sm-4 control-label">#springMessage('events.time')：</label>
                            <div class="col-sm-4">
##								<div class="input-append date form_datetime">
##                                    <input size="16" type="text" value="" readonly>
##                                    <span class="add-on"><i class="icon-th"></i></span>
##                                </div>
                                <input type="text" class="form-control" name="gmtStart" id="gmtStart" readonly placeholder="#springMessage('ph.events.start')" />
                            </div>
							<div class="col-sm-4">
                                <input type="text" class="form-control" name="gmtEnd" id="gmtEnd" readonly placeholder="#springMessage('ph.events.end')" />
                            </div>
                        </div>
						<div class="form-group">
                            <label for="moneyBudget" class="col-sm-4 control-label">#springMessage('events.money.budget')<small class="text-muted">(#springMessage('events.money.budget.explain'))</small>：</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" name="moneyBudget" placeholder="#springMessage('ph.events.money.budget')" />
                            </div>
                        </div>
						<div class="form-group">
                            <label for="location" class="col-sm-4 control-label">#springMessage('events.location')：</label>
                            <div class="col-sm-8">
                                <input type="text" class="form-control" name="location" placeholder="#springMessage('ph.events.location')" />
                            </div>
                        </div>
						
						<div class="form-group">
							<label for="location" class="col-sm-4 control-label">#springMessage('events.join')：</label>
                            <div class="col-sm-10">
								<span>
								<button type="button" class="btn btn-info">八月下沙</button>
								<button type="button" class="btn btn-default">遥远</button>
								<button type="button" class="btn btn-success">Mar</button>
								<button type="button" class="btn btn-success">董大侠</button>
								<button type="button" class="btn btn-default">余晓琳</button>
								<button type="button" class="btn btn-default" data-toggle="modal" data-target="#joinedModal">罗勋</button>
								</span>
								<button type="button" class="btn btn-default">
									<span class="glyphicon glyphicon-plus"></span>
								</button>
                            </div>
                        </div>
						
						<div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10" id="editor">
								<textarea class="form-control" rows="4" placeholder="#springMessage('ph.events.content')"></textarea>
                            </div>
                        </div>
						
                        <div class="form-group">
                            <div class="col-sm-offset-4 col-sm-8">
                                <button type="submit" class="btn btn-primary">#springMessage('btn.submit')</button>
                                <button class="btn btn-default">#springMessage('btn.cancel')</button>
                            </div>
                        </div>
						
							</div>
							
							<div class="col-sm-4" id="banner-selector">
								#set($banners = [
									"https://ssl.gstatic.com/s2/oz/images/events/themes/201206/14_football_l.ogv",
									"https://ssl.gstatic.com/s2/oz/images/events/themes/201206/04_picnic_l.ogv",
									"https://ssl.gstatic.com/s2/oz/images/events/themes/201206/02_sparkle_candle_l.ogv",
									"https://ssl.gstatic.com/s2/oz/images/events/themes/201206/09_house_party_l.ogv"])
##								#foreach($banner in $!{banners})
##									<video src="$banner" loop="true" autoplay="" class="img-thumbnail"></video>
##								#end
							</div>
						</div>
						
                       <input type="hidden" id="picBanner" name="picBanner" value=""/>
                    </form>
					
                </div>
            </div>
			
        </div>
    </div>
</div>

#if("$!{locale}"!="en")
	#set($locales="/plugin/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.$!{locale}.js")
#end
#loadScript([
	"$!{locales}",
	"/plugin/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js"
])

<script type="text/javascript" >
	jQuery(document).ready(function(){
		
		//jQuery('#editor').wysiwyg();
		
		jQuery("#gmtStart").datetimepicker({
			format:"yyyy-mm-dd",
			minView:3,
			autoclose:true
		});
		jQuery("#gmtEnd").datetimepicker({
			format:"yyyy-mm-dd",
			minView:3,
			autoclose:true
		});
		
		jQuery("#banner-selector video").click(function(){
			//console.log(">>>>>>>"+jQuery(this).attr("src"))
			jQuery("#banner-selector video").each(function(idx, e){
				if(jQuery(this).attr("class")=="img-active"){
					jQuery(this).attr("class", "img-thumbnail");
				}
			});
			jQuery(this).attr("class", "img-active");
			jQuery("#picBanner").val(jQuery(this).attr("src"));
		});
	});
</script>
